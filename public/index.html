<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ranking da Vara - Competi√ß√£o de Pesca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üêü</text></svg>">
</head>
<body class="bg-gray-50 font-inter">
    <!-- Loading Screen -->
    <div id="loading-screen" class="fixed inset-0 bg-white z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"></div>
            <h2 class="text-xl font-semibold text-gray-800 mb-2">Ranking da Vara</h2>
            <p class="text-gray-600">Carregando competi√ß√£o de pesca...</p>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden min-h-screen">
        <!-- Header -->
        <header class="bg-white shadow-sm border-b border-gray-200 sticky top-0 z-40">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center h-16">
                    <!-- Logo -->
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-fish text-white text-lg"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-900">Ranking da Vara</h1>
                            <p class="text-sm text-gray-500">Competi√ß√£o de Pesca</p>
                        </div>
                    </div>

                    <!-- Desktop Navigation -->
                    <nav class="hidden md:flex items-center space-x-4">
                        <button id="btn-ranking" class="nav-btn active" data-section="ranking">
                            <i class="fas fa-trophy"></i>
                            <span>Ranking</span>
                        </button>
                        <button id="btn-catches" class="nav-btn" data-section="catches">
                            <i class="fas fa-fish"></i>
                            <span>Capturas</span>
                        </button>
                        <button id="btn-badges" class="nav-btn" data-section="achievements">
                            <i class="fas fa-medal"></i>
                            <span>Conquistas</span>
                        </button>
                        <button id="btn-profile" class="nav-btn" data-section="profile" style="display: none;">
                            <i class="fas fa-user"></i>
                            <span>Perfil</span>
                        </button>
                    </nav>

                    <!-- Mobile Menu Button & User Actions -->
                    <div class="flex items-center space-x-3">
                        <div id="offline-indicator" class="hidden items-center space-x-2 px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm">
                            <i class="fas fa-wifi-slash"></i>
                            <span>Offline</span>
                        </div>
                        <button id="btn-info" class="p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fas fa-info-circle"></i>
                        </button>
                        <button id="mobile-menu-btn" class="md:hidden p-2 text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 transition-colors">
                            <i class="fas fa-bars"></i>
                        </button>
                        <button id="btn-logout" class="hidden p-2 text-red-500 hover:text-red-700 rounded-lg hover:bg-red-50 transition-colors">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Mobile Dropdown Menu -->
        <div id="mobile-menu" class="md:hidden hidden bg-white border-b border-gray-200 shadow-lg">
            <nav class="px-4 py-3 space-y-2">
                <button id="mobile-dropdown-ranking" class="mobile-dropdown-btn active w-full text-left" data-section="ranking">
                    <i class="fas fa-trophy w-5"></i>
                    <span>Ranking</span>
                </button>
                <button id="mobile-dropdown-catches" class="mobile-dropdown-btn w-full text-left" data-section="catches">
                    <i class="fas fa-fish w-5"></i>
                    <span>Capturas</span>
                </button>
                <button id="mobile-dropdown-badges" class="mobile-dropdown-btn w-full text-left" data-section="achievements">
                    <i class="fas fa-medal w-5"></i>
                    <span>Conquistas</span>
                </button>
                <button id="mobile-dropdown-profile" class="mobile-dropdown-btn w-full text-left" data-section="profile" style="display: none;">
                    <i class="fas fa-user w-5"></i>
                    <span>Perfil</span>
                </button>
            </nav>
        </div>

        <!-- Mobile Navigation -->
        <nav class="md:hidden bg-white border-t border-gray-200 fixed bottom-0 left-0 right-0 z-40">
            <div class="flex justify-around py-2">
                <button id="mobile-btn-ranking" class="mobile-nav-btn active" data-section="ranking">
                    <i class="fas fa-trophy"></i>
                    <span>Ranking</span>
                </button>
                <button id="mobile-btn-catches" class="mobile-nav-btn" data-section="catches">
                    <i class="fas fa-fish"></i>
                    <span>Capturas</span>
                </button>
                <button id="mobile-btn-badges" class="mobile-nav-btn" data-section="achievements">
                    <i class="fas fa-medal"></i>
                    <span>Conquistas</span>
                </button>
                <button id="mobile-btn-profile" class="mobile-nav-btn" data-section="profile" style="display: none;">
                    <i class="fas fa-user"></i>
                    <span>Perfil</span>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24 md:pb-8">
            <!-- Ranking Section -->
            <section id="ranking-section" class="space-y-8">
                <!-- Filters -->
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8">
                    <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-6 sm:space-y-0">
                        <div class="space-y-4 sm:space-y-0">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4 sm:mb-0 sm:hidden">Filtros</h3>
                            <div class="flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-6">
                                <div class="space-y-2 sm:space-y-0">
                                    <label class="block text-sm font-medium text-gray-700 sm:hidden">Modo de Ranking</label>
                                    <select id="ranking-mode" class="form-select">
                                        <option value="quilos">üèãÔ∏è Por Quilos</option>
                                        <option value="capturas">üêü Por Capturas</option>
                                        <option value="especies">üåà Por Esp√©cies</option>
                                    </select>
                                </div>
                                <div class="space-y-2 sm:space-y-0">
                                    <label class="block text-sm font-medium text-gray-700 sm:hidden">Per√≠odo</label>
                                    <select id="time-filter" class="form-select">
                                        <option value="all">Todo Per√≠odo</option>
                                        <option value="month">Este M√™s</option>
                                        <option value="week">Esta Semana</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button id="btn-add-catch" class="btn-primary shadow-lg hover:shadow-xl">
                            <i class="fas fa-plus"></i>
                            <span>Nova Captura</span>
                        </button>
                    </div>
                </div>

                <!-- King of the Month -->
                <div id="king-section" class="bg-gradient-to-br from-yellow-400 via-yellow-500 to-amber-600 rounded-2xl shadow-xl p-8 text-white relative overflow-hidden">
                    <!-- Background decoration -->
                    <div class="absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"></div>
                    <div class="absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"></div>
                    
                    <div class="text-center relative z-10">
                        <div class="w-24 h-24 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm border border-white border-opacity-30">
                            <i class="fas fa-crown text-4xl drop-shadow-lg"></i>
                        </div>
                        <h2 class="text-3xl font-bold mb-3 drop-shadow-md">Rei do M√™s</h2>
                        <div id="king-info" class="space-y-3">
                            <p class="text-lg opacity-95 font-medium">Carregando...</p>
                        </div>
                    </div>
                </div>

                <!-- Ranking List -->
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
                    <div class="p-8 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white">
                        <h2 class="text-2xl font-bold text-gray-900 flex items-center gap-3">
                            <i class="fas fa-trophy text-yellow-500"></i>
                            Classifica√ß√£o
                        </h2>
                        <p class="text-gray-600 mt-2">Ranking dos melhores pescadores</p>
                    </div>
                    <div id="ranking-list" class="divide-y divide-gray-100">
                        <!-- Ranking items will be inserted here -->
                    </div>
                </div>
            </section>

            <!-- Catches Section -->
            <section id="catches-section" class="hidden space-y-8">
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8">
                    <div class="flex items-center justify-between mb-8">
                        <h2 class="text-2xl font-bold text-gray-900">üé£ Minhas Capturas</h2>
                        <button id="btn-add-catch-2" class="btn-primary shadow-lg hover:shadow-xl transition-all duration-200">
                            <i class="fas fa-plus"></i>
                            <span>Nova Captura</span>
                        </button>
                    </div>
                    <div id="catches-list" class="space-y-6">
                        <!-- Catches will be inserted here -->
                    </div>
                </div>
            </section>

            <!-- Badges Section -->
            <section id="badges-section" class="hidden space-y-8">
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-8">üèÜ Conquistas</h2>
                    <div id="badges-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Badges will be inserted here -->
                    </div>
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile-section" class="hidden space-y-8">
                <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-8">
                    <h2 class="text-2xl font-bold text-gray-900 mb-8">üë§ Meu Perfil</h2>
                    <div id="profile-content">
                        <!-- Profile content will be inserted here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-xl max-w-md w-full p-6">
            <div class="text-center mb-6">
                <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-fish text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">Ranking da Vara</h2>
                <p class="text-gray-600">Entre para participar da competi√ß√£o</p>
            </div>
            
            <div id="auth-content">
                <!-- Formul√°rio de Login -->
                <div id="login-form" class="auth-form">
                    <form id="login-form-element" class="space-y-4">
                        <div>
                            <label for="login-email" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-envelope mr-1"></i> Email
                            </label>
                            <input type="email" id="login-email" class="form-input w-full" placeholder="seu@email.com" required>
                        </div>
                        
                        <div>
                            <label for="login-password" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-lock mr-1"></i> Senha
                            </label>
                            <input type="password" id="login-password" class="form-input w-full" placeholder="Sua senha" required>
                        </div>
                        
                        <button type="submit" class="w-full btn-primary">
                            <i class="fas fa-sign-in-alt mr-2"></i>
                            Entrar
                        </button>
                    </form>
                    
                    <div class="mt-4 text-center space-y-2">
                        <button id="show-register" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                            N√£o tem conta? Cadastre-se
                        </button>
                        <br>
                        <button id="show-forgot-password" class="text-gray-600 hover:text-gray-800 text-sm">
                            Esqueceu a senha?
                        </button>
                    </div>
                </div>
                
                <!-- Formul√°rio de Cadastro -->
                <div id="register-form" class="auth-form hidden">
                    <form id="register-form-element" class="space-y-4">
                        <div>
                            <label for="register-name" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-user mr-1"></i> Nome
                            </label>
                            <input type="text" id="register-name" class="form-input w-full" placeholder="Seu nome" required>
                        </div>
                        
                        <div>
                            <label for="register-email" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-envelope mr-1"></i> Email
                            </label>
                            <input type="email" id="register-email" class="form-input w-full" placeholder="seu@email.com" required>
                        </div>
                        
                        <div>
                            <label for="register-password" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-lock mr-1"></i> Senha
                            </label>
                            <input type="password" id="register-password" class="form-input w-full" placeholder="M√≠nimo 6 caracteres" required minlength="6">
                        </div>
                        
                        <div>
                            <label for="register-confirm-password" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-lock mr-1"></i> Confirmar Senha
                            </label>
                            <input type="password" id="register-confirm-password" class="form-input w-full" placeholder="Confirme sua senha" required minlength="6">
                        </div>
                        
                        <button type="submit" class="w-full btn-primary">
                            <i class="fas fa-user-plus mr-2"></i>
                            Criar Conta
                        </button>
                    </form>
                    
                    <div class="mt-4 text-center">
                        <button id="show-login" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                            J√° tem conta? Fa√ßa login
                        </button>
                    </div>
                </div>
                
                <!-- Formul√°rio de Recupera√ß√£o de Senha -->
                <div id="forgot-password-form" class="auth-form hidden">
                    <div class="text-center mb-4">
                        <i class="fas fa-key text-blue-600 text-3xl mb-2"></i>
                        <h3 class="text-lg font-semibold text-gray-900">Recuperar Senha</h3>
                        <p class="text-sm text-gray-600">Digite seu email para receber o link de recupera√ß√£o</p>
                    </div>
                    
                    <form id="forgot-password-form-element" class="space-y-4">
                        <div>
                            <label for="forgot-email" class="block text-sm font-medium text-gray-700 mb-2">
                                <i class="fas fa-envelope mr-1"></i> Email
                            </label>
                            <input type="email" id="forgot-email" class="form-input w-full" placeholder="seu@email.com" required>
                        </div>
                        
                        <button type="submit" class="w-full btn-primary">
                            <i class="fas fa-paper-plane mr-2"></i>
                            Enviar Link de Recupera√ß√£o
                        </button>
                    </form>
                    
                    <div class="mt-4 text-center">
                        <button id="back-to-login" class="text-blue-600 hover:text-blue-800 text-sm font-medium">
                            <i class="fas fa-arrow-left mr-1"></i>
                            Voltar ao login
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Nova Captura -->
    <div id="capture-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-2xl shadow-xl max-w-md w-full p-6 max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold text-gray-900 flex items-center gap-2">
                    <i class="fas fa-fish text-blue-600"></i>
                    Nova Captura
                </h2>
                <button id="close-capture-modal" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <form id="capture-form" class="space-y-4">
                <div>
                    <label for="fish-species" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-fish mr-1"></i> Esp√©cie do Peixe
                    </label>
                    <select id="fish-species" class="form-select w-full" required>
                        <option value="">Selecione a esp√©cie</option>
                        <option value="tilapia">üêü Til√°pia</option>
                        <option value="tucunare">üé£ Tucunar√©</option>
                        <option value="dourado">ü•á Dourado</option>
                        <option value="pintado">üêÜ Pintado</option>
                        <option value="pacu">üîµ Pacu</option>
                        <option value="traira">‚ö´ Tra√≠ra</option>
                        <option value="lambari">üî∏ Lambari</option>
                        <option value="outros">üê† Outros</option>
                    </select>
                </div>
                
                <div>
                    <label for="fish-weight" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-weight-hanging mr-1"></i> Peso (kg)
                    </label>
                    <input type="number" id="fish-weight" class="form-input w-full" step="0.1" min="0.1" max="100" placeholder="Ex: 2.5" required>
                </div>
                
                <div>
                    <label for="fish-length" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-ruler mr-1"></i> Comprimento (cm)
                    </label>
                    <input type="number" id="fish-length" class="form-input w-full" min="1" max="200" placeholder="Ex: 45" required>
                </div>
                
                <div>
                    <label for="capture-location" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-map-marker-alt mr-1"></i> Local da Captura
                    </label>
                    <input type="text" id="capture-location" class="form-input w-full" placeholder="Ex: Rio Tiet√™, Represa de Barra Bonita" required>
                </div>
                
                <div>
                    <label for="capture-date" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-calendar mr-1"></i> Data da Captura
                    </label>
                    <input type="date" id="capture-date" class="form-input w-full" required>
                </div>
                
                <div>
                    <label for="capture-time" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-clock mr-1"></i> Hor√°rio
                    </label>
                    <input type="time" id="capture-time" class="form-input w-full" required>
                </div>
                
                <div>
                    <label for="bait-used" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-bug mr-1"></i> Isca Utilizada
                    </label>
                    <select id="bait-used" class="form-select w-full" required>
                        <option value="">Selecione a isca</option>
                        <option value="minhoca">ü™± Minhoca</option>
                        <option value="milho">üåΩ Milho</option>
                        <option value="massa">üçû Massa</option>
                        <option value="camarao">ü¶ê Camar√£o</option>
                        <option value="peixe-vivo">üêü Peixe Vivo</option>
                        <option value="artificial">üé£ Isca Artificial</option>
                        <option value="outros">üéØ Outros</option>
                    </select>
                </div>
                
                <div>
                    <label for="capture-notes" class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-sticky-note mr-1"></i> Observa√ß√µes (opcional)
                    </label>
                    <textarea id="capture-notes" class="form-input w-full" rows="3" placeholder="Condi√ß√µes do tempo, t√©cnica utilizada, etc."></textarea>
                </div>
                
                <div class="flex gap-3 pt-4">
                    <button type="button" id="cancel-capture" class="flex-1 px-4 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium">
                        Cancelar
                    </button>
                    <button type="submit" class="flex-1 btn-primary">
                        <i class="fas fa-save mr-2"></i>
                        Salvar Captura
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modals will be inserted by JavaScript -->
    <div id="modal-container"></div>

    <script type="module" src="app.js"></script>
</body>
</html>